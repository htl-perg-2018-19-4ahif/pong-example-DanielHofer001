{"version":3,"sources":["../src/client/index.ts"],"names":[],"mappings":";;;;;;;;AACA;;;;;2EAK2E;AAC3E,IAAI,QAAQ,GAAG,KAAK,CAAC;AACrB,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,GAAS,EAAE;IACzC,MAAM,IAAI,GAAqB,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IAE/D,wEAAwE;IACxE,6EAA6E;IAC7E,MAAM,MAAM,GAAG,EAAE,EAAE,CAAC;IAEpB,iCAAiC;IACjC;;;;;SAKK;IACL,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;QAC/D,+BAA+B;QAC/B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrB,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3C,KAAK,CAAC,SAAS,GAAG,mBAAmB,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACxB,IAAI,CAAC,GAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAQ,CAAC;QAC/C,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;IACpB,CAAC,CAAC,CAAC;IAEH,kEAAkE;IAClE,+CAA+C;IAE/C,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE;QACvB,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,IAAI,KAAK,CAAC,EAAE;YACd,+BAA+B;YAC/B,KAAK,CAAC,SAAS,GAAG,YAAY,IAAI,+BAA+B,CAAC;YAClE,IAAI,CAAC,GAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAQ,CAAC;YAC/C,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACxB,OAAO,EAAE,CAAC;YACV,QAAQ,GAAG,IAAI,CAAC;SACjB;aAAM,IAAI,IAAI,GAAG,CAAC,EAAE;YACnB,KAAK,CAAC,SAAS,GAAG,GAAG,IAAI,iBAAiB,CAAC;YAC3C,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SACzB;IAEH,CAAC,CAAC,CAAC;IAEH,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;QAC1B,IAAI,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACjD,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,IAAI,QAAQ;YACV,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAC/C,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;IAC3B,CAAC,CAAC,CAAC;IACH,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;QAC1B,IAAI,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACjD,IAAI,QAAQ;YACV,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;IAC3B,CAAC,CAAC,CAAC;AACL,CAAC,CAAA,CAAC,CAAC","file":"index.js","sourcesContent":["\r\n/**************************************************************************\r\n  Demo for a socket.io client\r\n\r\n  NOTE: This code has not been optimized for size or speed. It was written\r\n        with ease of understanding in mind.\r\n**************************************************************************/\r\nlet reverted = false;\r\nwindow.addEventListener('load', async () => {\r\n  const keys = <HTMLUListElement>document.getElementById('keys');\r\n\r\n  // Establish connection with socket.io server. Note that this just works\r\n  // because `<script src=\"/socket.io/socket.io.js\"></script>` is in index.html\r\n  const socket = io();\r\n\r\n  // Handle browser's keydown event\r\n  /*document.addEventListener('keydown', event => {\r\n    if (event.code === 'ArrowUp' || event.code === 'ArrowDown') {\r\n      // Send ArrowKey message to server\r\n      socket.emit(event.code, event.code);\r\n    }\r\n  });*/\r\n  document.getElementById('button').addEventListener('click', () => {\r\n    // Send start message to server\r\n    socket.emit('start');\r\n    const newLi = document.createElement('li');\r\n    newLi.innerText = 'Starting game ...';\r\n    keys.appendChild(newLi);\r\n    let l=document.getElementById('button') as any;\r\n    l.disabled = true;\r\n  });\r\n\r\n  // Handle ArrowKey message received from server (i.e. user pressed\r\n  // an arrow key in a different browser window).\r\n\r\n  socket.on('play', code => {\r\n    const newLi = document.createElement('li');\r\n    if (code === 2) {\r\n      // Add code of the to HTML list\r\n      newLi.innerText = `Players (${code}) connected, starting game...`;\r\n      let l=document.getElementById('button') as any;\r\n      l.disabled = true;\r\n      keys.appendChild(newLi);\r\n      runBall();\r\n      reverted = true;\r\n    } else if (code < 2) {\r\n      newLi.innerText = `${code} Player ready !`;\r\n      keys.appendChild(newLi);\r\n    }\r\n\r\n  });\r\n\r\n  socket.on('player1', code => {\r\n    let element = document.getElementById(`player1`);\r\n    console.log('GOAL!!!');\r\n    if (reverted)\r\n      element = document.getElementById(`player2`);\r\n    element.innerHTML = code;\r\n  });\r\n  socket.on('player2', code => {\r\n    let element = document.getElementById(`player2`);\r\n    if (reverted)\r\n      element = document.getElementById(`player1`);\r\n    console.log('GOAL!!!');\r\n    element.innerHTML = code;\r\n  });\r\n});\r\n\r\n\r\n\r\n"]}